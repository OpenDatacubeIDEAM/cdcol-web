{% extends 'base.html' %}
{% load staticfiles %}

{% block banner_block %}
<img class="overlay" src="{% static 'images/small-banner-home.jpg' %}">
{% endblock %}

{% block extra_head %}
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.css">
{% endblock %}

{% block content %}
<!-- breadcrumb start -->
<!-- ================ -->
<div class="breadcrumb-container">
  <div class="container">
    <ol class="breadcrumb">
      <li><i class="fa fa-home pr-10"></i><a href="/">Inicio</a></li>
      <li class="active">Mis Algoritmos</li>
    </ol>
  </div>
</div>
<!-- breadcrumb end -->

<!-- main-container start -->
<!-- ================ -->
<section class="main-container padding-ver-clear">
  <div class="container pv-40">
    <div class="row">
      <!-- main start -->
      <!-- ================ -->
      <div class="main col-md-12">
        <h3 class="title">Algoritmos</h3>
        <div class="separator-2"></div>
        <p>A continuaci√≥n se presentan los algoritmos.</p>
        <div class="row">
          <div class="col-md-12">
            <div class="pull-right" style="margin-bottom: 10px;">
              {% if user.is_authenticated %}
              {% if perms.algorithm.can_create_algorithm %}
              <a href="{% url 'algorithm:create' %}" class="btn btn-default btn-md"><i class="fa fa-plus-circle"></i> Nuevo Algoritmo</a>
              {% endif %}
              {% endif %}
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="table-responsive">
              <table id="algorithms" class="table table-striped table-colored">
                <thead>
                  <tr>
                    <th data-data="rank">id</th>
                    <th>name</th>
                    <!-- <th>topic</th> -->
                    <th>created_at</th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!-- main end -->
    </div>
  </div>
</section>
<!-- main-container end -->
{% endblock %}

{% block extra_body %}
<!-- <script src="//code.jquery.com/jquery-1.12.4.js"></script> -->
  <!-- <script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script> -->
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
  <script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
  <!-- <script type="text/javascript" charset="utf8" src="http://cdn.datatables.net/1.10.12/js/jquery.dataTables.js"></script> -->
  <script>
      $(document).ready(function() {
          var table = $('#algorithms').DataTable({
              "serverSide": true,
              "ajax": "/api/algorithms/?format=datatables",
              "columns": [
                  {"data": "id"},
                  {"data": "name"},
                  // {"data": "topic"},
                  {"data": "created_at"}
              ]
          });
      });
  </script>
{% endblock %}