{% extends 'base.html' %}

{% block extra_head %}
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.css">
{% endblock %}

{% block content %}
    <!-- breadcrumb start -->
    <!-- ================ -->
    <div class="breadcrumb-container">
        <div class="container">
            <ol class="breadcrumb">
                <li><i class="fa fa-home pr-10"></i><a href="/">Inicio</a></li>
                <li class="active"><a href="{% url 'storage:detail' storage_unit.id %}">{{ storage_unit.name }}</a></li>
                <li class="active">Contenido</li>
            </ol>
        </div>
    </div>
    <!-- breadcrumb end -->

    <!-- main-container start -->
    <!-- ================ -->
    <section class="main-container padding-ver-clear">
        <div class="container pv-40">
            <div class="row">

                <!-- main start -->
                <!-- ================ -->
                <div class="main col-md-12">
                    <h3 class="title">Contenido de la Unidad</h3>
                    <div class="separator-2"></div>
                    <p>A continuaci√≥n se presenta el contenido de la unidad de almacenamiento.</p>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table id="storage_unit_detail" class="table table-striped table-colored">
                                    <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Acciones</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for dir in dirs %}
                                        <tr>
                                            <td>{{ dir }}</td>
                                            <td>
                                                <a href="{% url 'storage:view_content' storage_unit.id selected_path|add:dir %}"
                                                   class="btn btn-gray btn-sm"><i class="fa fa-bars"></i> Abrir</a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    {% for file in files %}
                                        <tr>
                                            <td>{{ file }}</td>
                                            <td>
                                                <a href="#" class="btn btn-gray btn-sm"><i class="fa fa-bars"></i>
                                                    Descargar</a>
                                                <a href="{% url 'storage:image_detail' storage_unit.id file %}" class="btn btn-gray btn-sm"><i class="fa fa-bars"></i> Ver
                                                    Detalle</a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- main end -->


            </div>
        </div>
    </section>
    <!-- main-container end -->
{% endblock %}

{#{% block extra_body %}#}
{#    <script type="text/javascript" charset="utf8" src="http://cdn.datatables.net/1.10.12/js/jquery.dataTables.js"></script>#}
{#    <script type="text/javascript">#}
{#        $(document).ready(function () {#}
{#            $('#storage_unit_detail').dataTable({#}
{#                "language": {#}
{#                    "url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Spanish.json"#}
{#                },#}
{#                "processing": true,#}
{#                "ajax": {#}
{#                    "processing": true,#}
{#                    "url": "{% url 'storage:as_json' %}",#}
{#                    "dataSrc": ""#}
{#                },#}
{#                "columns": [#}
{#                    {"data": "name"},#}
{#                    {#}
{#                        "data": "created_at",#}
{#                        "render": function (data) {#}
{#                            var date = new Date(data);#}
{#                            var month = date.getMonth() + 1 + "";#}
{#                            return date.toLocaleString();#}
{#                        }#}
{#                    },#}
{#                    {"data": "created_by"},#}
{#                    {#}
{#                        "data": "id",#}
{#                        "searchable": false,#}
{#                        "sortable": false,#}
{#                        "render": function (data) {#}
{#                            return "<a href='detail/" + data + "' class='btn btn-gray btn-sm'><i class='fa fa-bars'></i> Ver Detalle</a>";#}
{#                        }#}
{#                    },#}
{#                ]#}
{#            });#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}
