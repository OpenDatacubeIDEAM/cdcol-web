{% extends 'base.html' %}

{% block content %}
    <!-- breadcrumb start -->
    <!-- ================ -->
    <div class="breadcrumb-container">
        <div class="container">
            <ol class="breadcrumb">
                <li><i class="fa fa-home pr-10"></i><a href="/">Inicio</a></li>
                <li><a href="{% url 'algorithm:index' %}">Mis Algoritmos</a></li>
                <li class="active">Detalle de versión</li>
            </ol>
        </div>
    </div>
    <!-- breadcrumb end -->

    <!-- main-container start -->
    <!-- ================ -->
    <section class="main-container">

        <div class="container">
            <div class="row">

                <!-- main start -->
                <!-- ================ -->
                <div class="main col-md-8">

                    <!-- page-title start -->
                    <!-- ================ -->
                    <h3 class="page-title">Información de la versión</h3>
                    <div class="separator-2"></div>
                    <!-- page-title end -->
                    <p>Esta es la información de la versión del algoritmo seleccionado:</p>
                    <table class="table">
                        <tbody>
                        <tr>
                            <td>Nombre del algoritmo:</td>
                            <td>{{ version.algorithm.name }}</td>
                        </tr>
                        <tr>
                            <td>Número:</td>
                            <td>{{ version.number }}</td>
                        </tr>
                        <tr>
                            <td>Descripción:</td>
                            <td>{{ version.description }}</td>
                        </tr>
                        <tr>
                            <td>Código fuente:</td>
                            <td><a href="#" class="btn btn-gray btn-sm"><i class="fa fa-download"></i> Descargar</a></td>
                        </tr>
                        <tr>
                            <td>Estado:</td>
                            <td>{{ version.publishing_state }}</td>
                        </tr>
                        <tr>
                            <td>Fecha de Creación:</td>
                            <td>{{ version.created_at }}</td>
                        </tr>
                        <tr>
                            <td>Creada por:</td>
                            <td>{{ version.created_by }}</td>
                        </tr>
                        </tbody>
                    </table>

                    <h3 class="page-title">Parámetros de la versión</h3>
                    <div class="separator-2"></div>
                    <div class="pull-right">
                        <a href="#"><a href="{% url 'algorithm:new_parameter' version.algorithm.id version.id %}" class="btn btn-default btn-md"><i class="fa fa-plus-circle"></i>  Nuevo Parámetro</a></a>
                    </div>
                    <p>A continuación se encuentran los parámetros de esta versión::</p>
                    <br/>
                    <div class="table-responsive">
                        <table class="table table-striped table-colored">
                            <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Tipo</th>
                                <th>Posición</th>
                                <th>Obligatorio</th>
                                <th>Habilitado</th>
                                <th>Acciones</th>
                            </tr>
                            </thead>
                            <tbody>
                                {% for param in parameters %}
                                    <tr>
                                        <td>{{ param.name }}</td>
                                        <td>{{ param.get_parameter_type_display }}</td>
                                        <td>{{ param.position }}</td>
                                        <td>{{ param.required }}</td>
                                        <td>{{ param.enabled }}</td>
                                        <td><a href="{% url 'algorithm:view_parameter' param.version.algorithm.id param.version.id param.id %}" class="btn btn-gray btn-sm"><i class="fa fa-bars"></i> Ver Detalle</a>
                                            <a href="#" class="btn btn-gray btn-sm"><i class="fa fa-edit"></i> Editar</a></td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                </div>
                <!-- main end -->

                <!-- sidebar start -->
                <!-- ================ -->
                <aside class="col-md-4 col-lg-3 col-lg-offset-1">
                    <div class="sidebar">
                        <div class="block clearfix">
                            <h3 class="title">Acciones</h3>
                            <div class="separator-2"></div>
                            <nav>
                                <a href="#" class="btn btn-primary btn-md btn-block">Ejecutar Esta Versión</a>
                            </nav>
                            <nav>
                                <a href="#" class="btn btn-primary btn-md btn-block">Editar Versión</a>
                            </nav>
                            <nav>
                                <a href="{% url 'algorithm:publish_version' version.algorithm.id version.id %}" class="btn btn-primary btn-md btn-block">Publicar Versión</a>
                            </nav>
                            <nav>
                                <a href="{% url 'algorithm:unpublish_version' version.algorithm.id version.id %}" class="btn btn-primary btn-md btn-block">Despublicar Versión</a>
                            </nav>
                            <nav>
                                <a href="{% url 'algorithm:deprecate_version' version.algorithm.id version.id %}" class="btn btn-primary btn-md btn-block">Volver Versión Obsoleta</a>
                            </nav>
                            <nav>
                                <a href="{% url 'algorithm:delete_version' version.algorithm.id version.id %}" class="btn btn-primary btn-md btn-block">Eliminar Versión</a>
                            </nav>
                        </div>
                    </div>
                </aside>
                <!-- sidebar end -->

            </div>
        </div>
    </section>
    <!-- main-container end -->
{% endblock %}