{% extends 'base.html' %}

{% block content %}
    <!-- breadcrumb start -->
    <!-- ================ -->
    <div class="breadcrumb-container">
        <div class="container">
            <ol class="breadcrumb">
                <li><i class="fa fa-home pr-10"></i><a href="/">Inicio</a></li>
                <li><a href="{% url 'algorithm:index' %}">Mis Algoritmos</a></li>
                <li class="active">Calificaciones de la versión</li>
            </ol>
        </div>
    </div>
    <!-- breadcrumb end -->

    <!-- main-container start -->
    <!-- ================ -->
    <section class="main-container">

        <div class="container">
            <div class="row">

                <!-- main start -->
                <!-- ================ -->
                <div class="main col-md-8">

                    <!-- page-title start -->
                    <!-- ================ -->
                    <h3 class="page-title">Información de la versión</h3>
                    <div class="separator-2"></div>
                    <!-- page-title end -->
                    <p>Esta es la información de la versión del algoritmo seleccionado:</p>
                    <table class="table">
                        <tbody>
                        <tr>
                            <td>Algoritmo:</td>
                            <td>{{ version.algorithm.name }}</td>
                        </tr>
                        <tr>
                            <td>Número:</td>
                            <td>{{ version.number }}</td>
                        </tr>
                        <tr>
                            <td>Descripción:</td>
                            <td>{{ version.description }}</td>
                        </tr>
                        <tr>
                            <td>Estado:</td>
                            <td>{{ version.publishing_state }}</td>
                        </tr>
                        <tr id="ratings">
                            <td>Fecha de Creación:</td>
                            <td>{{ version.created_at }}</td>
                        </tr>
                        <tr>
                            <td>Creada por:</td>
                            <td>{{ version.created_by }}</td>
                        </tr>
                        </tbody>
                    </table>

                    <h3 class="page-title">Calificaciones de la versión</h3>
                    <div class="separator-2"></div>
                    <p>A continuación encuentras el listado de calificaciones de esta versión del algoritmo:</p>
                    <br/>
                    <!-- blogpost start -->
                    <article class="">
                        <div class="row">
                            <div class="col-md-6 ">
                                <div class="pv-30 ph-20 feature-box bordered shadow text-center object-non-visible animated object-visible fadeInDownSmall"
                                     data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                                    <span class="icon default-bg circle"><i class="fa fa-star"></i></span>
                                    <h4>Calificación</h4>
                                    <div class="separator clearfix"></div>
                                    <h2>{{ average_rating }}/5</h2>
                                </div>
                            </div>
                            <div class="col-md-6 ">
                                <div class="pv-30 ph-20 feature-box bordered shadow text-center object-non-visible animated object-visible fadeInDownSmall"
                                     data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                                    <span class="icon default-bg circle"><i class="fa fa-check"></i></span>
                                    <h4># de Calificaciones</h4>
                                    <div class="separator clearfix"></div>
                                    <h2>{{ reviews.count }}</h2>
                                </div>
                            </div>
                        </div>
                    </article>
                    <!-- blogpost end -->

                    {% for review in reviews %}

                        <!-- blogpost start -->
                        <article class="" style="border: 1px solid lightgrey; padding: 10px; margin: 10px;">
                            <div class="row">
                                <div class="col-md-4">
                                    <b>Creada por: </b>
                                </div>
                                <div class="col-md-8">
                                    <p>{{ review.reviewed_by }}</p>
                                </div>
                                <div class="col-md-4">
                                    <b>Calificación: </b>
                                </div>
                                <div class="col-md-8">
                                    <p>{{ review.rating }}</p>
                                </div>
                                <div class="col-md-4">
                                    <b>Comentarios de la calificación</b>
                                </div>
                                <div class="col-md-8">
                                    <p>{{ review.comments }}</p>
                                </div>
                                <div class="col-md-4">
                                    <b>Fecha de creación: </b>
                                </div>
                                <div class="col-md-8">
                                    <p>{{ review.created_at }}</p>
                                </div>

                            </div>
                        </article>
                        <!-- blogpost end -->
                    {% endfor %}

                </div>
                <!-- main end -->

            </div>
        </div>
    </section>
    <!-- main-container end -->
{% endblock %}